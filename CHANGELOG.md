# Changelog

## 0.13.0 (2025-10-15)

- Add support for `avram.attribute_variants` to translate avram attributes

## 0.12.0 (2025-10-01)

- Allow a default value for the `Rosetta.find` macro method as the second argument.
- Make the `r` macro accept the default value as well.

## 0.11.4 (2025-09-30)

- Fix code styling errors.

## 0.11.3 (2023-07-10)

- Fix docs build (Pyyaml issue).
- Add support for `Avram::DeleteOperation(T)`.

## 0.11.2 (2023-07-10)

- Fix bug in version module.

## 0.11.1 (2023-07-08)

- Fix bug in backend where the fallback rules annotation wasn't optional.

## 0.11.0 (2023-07-07)

- Add fallbacks.

## 0.10.1 (2023-01-28)

- Add better compile-time error message for to_s with missing interpolations.

## 0.10.0 (2022-12-10)

- Fix bug in loading order of initializer.

## 0.9.0 (2022-10-09)

- Add support for Crystal 1.6.0.
- Add compatibility with Lucky 1.0.0-rc1.
- Change integration with Lucky by always calling `.t`, regardless of the
  presence of interpolation arguments (in your editor, do a global find on `r\("([^"]+)"\)([^\.])` and replace with `r("$1").t$2`)

## 0.8.0 (2022-09-30)

- Lock lib down at Crystal version 1.4.0.

## 0.7.1 (2022-05-31)

- Move all Lucky-related integration code inside the `Rosetta::Lucky.integrate`
  macro.

## 0.7.0 (2022-05-30)

- Add better integration for `Lucky::FlashStore`.
- Add better integration for `Lucky::SpecialtyTags`.
- Add better integration for `Lucky::FormHelpers`.
- Add `Rosetta::AvramBackend`.
- Add `--lucky` flag to `rosetta` binary to generate Avram's validation
  translations.
- Change the postinstall command to remove the old compiled binary.
- Use the `Rosetta::DefaultLocale` annotation to replace the
  `Rosetta::DEFAULT_LOCALE` constant.
- Use the `Rosetta::AvailableLocales` annotation to replace the
  `Rosetta::AVAILABLE_LOCALES` constant.
- Use the `Rosetta::PluralizationRules` annotation to replace the
  `Rosetta::PLURALIZATION_RULES` constant.
- Use the `Rosetta::DefaultPluralizationRules` annotation to replace the
  `Rosetta::Pluralization::DEFAULT_RULES` constant.
- Add a compiler error to notify about the change (will be removed in v1.0.0).
- Change the `Rosetta.available_locales` macro to always return `Array(String)`.

## 0.6.5 (2022-03-31)

- Fix bug in shim to ensure presence of the bin dir.

## 0.6.4 (2022-03-18)

- Add a shim to build the development binary rather than via postinstall.

## 0.6.3 (2021-12-14)

- Fix bug where double quotes in locales weren't properly escaped.

## 0.6.2 (2021-12-08)

- Add postinstall target for rosetta binary.

## 0.6.1 (2021-10-25)

- Add `Avram::SaveOperation(T)` in Lucky integration macro.

## 0.6.0 (2021-10-21)

- Add translations with variants.

## 0.5.1 (2021-10-18)

- Make `Rosetta::Translatable` compatible with type vars.

## 0.5.0 (2021-10-18)

- Use an annotation (`Rosetta::Translatable::Config(prefix: "custom_prefix")`)
  instead of a constant (`ROSETTA_PREFIX = "custom_prefix`) for custom prefixes
  in the `Rosetta::Translatable` module.

## 0.4.1 (2021-10-18)

- Add `rosetta_localization.time.distance.*` translations to `rosetta.yml`
  generated by the `bin/rosetta --init` command.

## 0.4.0 (2021-10-15)

- Add `Rosetta.distance_of_time_in_words`.
- Add `Rosetta.time_ago_in_words`.
- Add `Rosetta.time_from_now_in_words`.
- Add `Localizable#distance_of_time_in_words`.
- Add `Localizable#time_ago_in_words`.
- Add `Localizable#time_from_now_in_words`.
- Include `Rosetta::Localizable` everywhere using `Rosetta::Lucky.integrate`.

## 0.3.2 (2021-09-26)

- Add better integration for Lucky pages (`Lucky::HTMLPage`).

## 0.3.1 (2021-09-26)

- Add a clearer compilation error message for the `r` macro.

## 0.3.0 (2021-09-25)

- Change the argument order of `Rosetta.localize_time` to be more consistent
  with the rest of the lib.
- Add `Rosetta::Parser::Config` to be able to work with YAML configurations sent
  from the backend.
- Rework the parser to be able to deal with multi-option translations for a
  single locale key.
- Move parser checks to the `Rosetta::Parser::Checks` module.
- Add parser check to validate the pluralization category tags in every
  pluralizable translation.
- Add the `Rosetta::PluralizedTranslation` mixin to be able to work with
  pluralizable translations.
- Rework `Rosetta::Backend` to send a single YAML configuration to the parser
  rather than separate arguments.
- Add locale/pluralization rule mapping in `Rosetta::Pluralization::DEFAULT_RULES`
  (borrowed from [crystal-i18n/i18n](https://github.com/crystal-i18n/i18n)).
- Add most common pluralization rules under `rosetta/pluralization/rule`
  (borrowed from [crystal-i18n/i18n](https://github.com/crystal-i18n/i18n)).
- Add the `Rosetta::Pluralization::Rule` base class.
- Add the `Rosetta::Pluralization::CategoryTags` annotation to inform the parser
  about which category tags are required per pluralization rule.
- Allow localization with a date-formatted tuple.

## 0.2.0 (2021-09-10)

- Add `Rosetta::Lucky.integrate` to easily include `Rosetta::Treanslatable`
  where localizations may be used.
- Create `Rosetta::SimpleTranslation` and `Rosetta::InterpolatedTranslation`
  mixins to simplify the builder.
- Raise a compile error when translations with interpolations are converted to
  string using Crystal string interpolation or by calling `to_s`.

## 0.1.0 (2021-09-08)

Initial release of Rosetta with documentation.
